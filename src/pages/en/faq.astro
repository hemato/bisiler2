---
import Layout from '../../layouts/Layout.astro';
import { ChevronDown, HelpCircle } from 'lucide-react';

const translations = await import('../../i18n/en.json');
const t = translations.default;
---

<Layout title={`${t.nav.faq} | TechCorp`}>
  <div class="bg-gradient-to-br from-primary-50 to-secondary-50 py-20">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-16">
        <div class="flex items-center justify-center mb-6">
          <div class="w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center">
            <HelpCircle className="w-8 h-8 text-primary-600" />
          </div>
        </div>
        <h1 class="text-4xl font-bold text-secondary-900 mb-4">
          {t.faq.title}
        </h1>
        <p class="text-xl text-secondary-600 max-w-2xl mx-auto">
          {t.faq.subtitle}
        </p>
      </div>

      <div class="space-y-4">
        {t.faq.items.map((item, index) => (
          <div class="bg-white rounded-lg shadow-sm border border-secondary-200 overflow-hidden">
            <button 
              class="faq-button w-full px-6 py-6 text-left flex items-center justify-between hover:bg-secondary-50 transition-colors duration-200"
              data-target={`faq-${index}`}
            >
              <h3 class="text-lg font-semibold text-secondary-900 pr-4">
                {item.question}
              </h3>
              <ChevronDown className="w-5 h-5 text-secondary-600 transform transition-transform duration-200 flex-shrink-0" />
            </button>
            <div 
              id={`faq-${index}`}
              class="faq-content hidden px-6 pb-6"
            >
              <div class="border-t border-secondary-100 pt-4">
                <p class="text-secondary-700 leading-relaxed">
                  {item.answer}
                </p>
              </div>
            </div>
          </div>
        ))}
      </div>

      <!-- Contact CTA -->
      <div class="mt-16 text-center bg-white rounded-2xl p-8 shadow-lg">
        <h2 class="text-2xl font-bold text-secondary-900 mb-4">
          Still Have Questions?
        </h2>
        <p class="text-secondary-600 mb-6">
          We're here to help! Contact us for personalized answers to your questions.
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a
            href="/en/contact"
            class="inline-flex items-center px-6 py-3 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 transition-all duration-200 transform hover:scale-105"
          >
            Contact Us
          </a>
          <a
            href="tel:+902121234567"
            class="inline-flex items-center px-6 py-3 border-2 border-primary-600 text-primary-600 font-semibold rounded-lg hover:bg-primary-600 hover:text-white transition-all duration-200"
          >
            Call Now
          </a>
        </div>
      </div>
    </div>
  </div>
</Layout>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const faqButtons = document.querySelectorAll('.faq-button');
    
    faqButtons.forEach(button => {
      button.addEventListener('click', function() {
        const targetId = this.getAttribute('data-target');
        const content = document.getElementById(targetId);
        const icon = this.querySelector('svg');
        
        // Close all other FAQ items
        faqButtons.forEach(otherButton => {
          if (otherButton !== this) {
            const otherTargetId = otherButton.getAttribute('data-target');
            const otherContent = document.getElementById(otherTargetId);
            const otherIcon = otherButton.querySelector('svg');
            
            otherContent.classList.add('hidden');
            otherIcon.classList.remove('rotate-180');
          }
        });
        
        // Toggle current FAQ item
        if (content.classList.contains('hidden')) {
          content.classList.remove('hidden');
          icon.classList.add('rotate-180');
        } else {
          content.classList.add('hidden');
          icon.classList.remove('rotate-180');
        }
      });
    });
  });
</script>

<style>
  .faq-content {
    animation: slideDown 0.3s ease-out;
  }
  
  @keyframes slideDown {
    from {
      opacity: 0;
      max-height: 0;
    }
    to {
      opacity: 1;
      max-height: 200px;
    }
  }
</style>